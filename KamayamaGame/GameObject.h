#pragma once

#include <Windows.h>
#include <string>

/*
ゲームに登場する絵、ボタンなどのオブジェクト。BITMAP形式で用意する。アニメーション等に使う差分は同じ大きさのビットマップを横に並べるようにして、スプライトシートの形で用意することを想定する。
*/
class GameObject
{
private:
	std::string objectName;
	int length;//フレームの個数
	POINT position = { 0,0 };//オブジェクトの描画位置
	const SIZE frameSize;//オブジェクト1フレームの、長方形としての縦横サイズ（ピクセル）
	HBITMAP hSpriteImage = nullptr;//スプライトシートのビットマップイメージ
	int frameNumber;//今、スプライトの何フレーム目か（0から始まる）
	COLORREF transparent = 0xff00ff;//透過色

public:
	GameObject(LPCTSTR path, std::string objectName, SIZE frameSize);
	~GameObject() = default;

	//positionの変更
	void setObjectPosition(POINT);
	//描画される場所のX座標の取得
	const int getPositionX()const;
	//描画される場所のY座標の取得
	const int getPositionY()const;
	//1フレームの幅を取得
	const int getWidth()const;
	//1フレームの高さを取得
	const int getHeight()const;
	//hBitmapを取得
	const HBITMAP getSpriteImage()const;
	//現在のフレームの原点のスプライトシートにおけるX座標を取得する
	const int originOfCurrentFrame()const;
	//スプライトの画像サイズ（px）を取得
	SIZE getSpriteSize()const;
	//現在のフレームが何番目かを取得
	const int getCurrentFrameNumber()const;
	
private:
	void setLength(int);
	void setObjectImage(HBITMAP img);
	void loadImage(LPCWSTR path);//pathの画像をビットマップイメージとしてhSpriteImageに格納する。
	
	
};